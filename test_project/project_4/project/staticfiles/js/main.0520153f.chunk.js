(this.webpackJsonpmy_calendar = this.webpackJsonpmy_calendar || []).push([[0], {
    26: function (e, t, n) { }, 27: function (e, t, n) { }, 47: function (e, t, n) {
        "use strict"; n.r(t); var a = n(1), c = n.n(a), o = n(19), i = n.n(o), d = (n(26), n(21)), r = n(4), s = n(7), l = n(6), u = (n(27), n(9)), v = n(0), j = function (e) { var t, n = "day", a = e.day.value; "padding" === e.day.value && (n += " padding", a = ""), e.day.isCurrentDay && (n += " currentDay"); var c = null; if (e.day.event) { var o = "event"; e.day.event.completed ? e.day.event.completedOnTime ? o += " completed" : o += " late" : e.day.event.overdue && (o += " overdue"), c = Object(v.jsx)("div", { className: o, children: e.day.event.title }) } return Object(v.jsxs)("div", (t = { className: n, onClick: e.day.clicked }, Object(u.a)(t, "onClick", e.clicked), Object(u.a)(t, "children", [" ", a, c]), t)) }, h = function e(t) { var n = this; Object(r.a)(this, e), this.day = 0, this.month = 0, this.year = 0, this.hours = 0, this.minutes = 0, this.seconds = 0, this.timeString = function () { return "".concat(n.year, "/").concat(n.month, "/").concat(n.day, "/").concat(n.hours, "/").concat(n.minutes, "/").concat(n.seconds, ")") }, this.year = parseInt(t.substring(0, 4)), this.month = parseInt(t.substring(5, 7)), this.day = parseInt(t.substring(8, 10)), this.hours = parseInt(t.substring(11, 13)), this.minutes = parseInt(t.substring(14, 16)), this.seconds = parseInt(t.substring(17, 19)) }; h.dateString = function (e) { if (e) { var t = parseInt(e.substring(0, 4)), n = parseInt(e.substring(5, 7)), a = parseInt(e.substring(8, 10)); return "".concat(a, "/").concat(n, "/").concat(t) } }, h.compareTime = function (e, t) { return !(!e || !t) && new Date(e) <= new Date(t) }; var p = function (e) { Object(s.a)(n, e); var t = Object(l.a)(n); function n() { var e; Object(r.a)(this, n); for (var a = arguments.length, c = new Array(a), o = 0; o < a; o++)c[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(c))).componentDidMount = function () { }, e.loadDate = function () { var t = new Date; 0 !== e.props.nav && t.setMonth(t.getMonth() + e.props.nav); for (var n = t.getDate(), a = t.getMonth(), c = t.getFullYear(), o = new Date(c, a + 1 + e.props.nav, 0).getDate(), i = new Date(c, a + e.props.nav, 1).toLocaleDateString("en-uk", { weekday: "long", year: "numeric", month: "numeric", day: "numeric" }), d = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"].indexOf(i.split(", ")[0]), r = [], s = 1; s <= d + o; s++){ var l = "".concat(s - d, "/").concat(a + 1, "/").concat(c); s > d ? r.push({ value: s - d, event: e.props.eventForDate(l), isCurrentDay: s - d === n && 0 === e.props.nav, date: l }) : r.push({ value: "padding", event: null, isCurrentDay: !1, date: "" }) } return r }, e.render = function () { var t = e.loadDate().map((function (t, n) { return Object(v.jsx)(j, { day: t, clicked: function () { return e.props.DaySquareOnClick(t) } }, n) })); return Object(v.jsx)("div", { id: "calendar", children: t }) }, e } return n }(a.Component), b = function (e) { return Object(v.jsxs)("div", { id: "header", children: [Object(v.jsx)("div", { id: "monthDisplay", children: e.dateString }), Object(v.jsxs)("div", { children: [Object(v.jsx)("button", { id: "backButton", onClick: e.onBack, children: "back" }), Object(v.jsx)("button", { id: "nextButton", onClick: e.onNext, children: "Next" })] })] }) }, m = n(10), O = function (e) { var t = Object(a.useState)(""), n = Object(m.a)(t, 2), c = n[0], o = n[1], i = Object(a.useState)(!1), d = Object(m.a)(i, 2), r = d[0], s = d[1]; return Object(v.jsxs)(v.Fragment, { children: [Object(v.jsxs)("div", { id: "newEventModal", children: [Object(v.jsx)("h2", { children: "New Event" }), Object(v.jsx)("input", { id: "eventTitleInput", placeholder: "Event Title", onChange: function (e) { return o(e.target.value) }, value: c, className: r ? "error" : "" }), Object(v.jsx)("button", { id: "saveButton", onClick: function () { c ? (s(!1), e.onSave(c)) : s(!0) }, children: "Save" }), Object(v.jsx)("button", { id: "cancelButton", onClick: function () { e.closeModal(), s(!1) }, children: "Cancel" })] }), Object(v.jsx)("div", { id: "modalBackDrop" })] }) }, f = function (e) {
            return console.log(e.to_do_id), Object(v.jsxs)(v.Fragment, {
                children: ["(", Object(v.jsxs)("div", {
                    id: "deleteEventModal", children: [Object(v.jsx)("h2", { children: "Event" }),
                        Object(v.jsx)("p", { id: "eventText", children: e.eventText }), Object(v.jsx)("button", { id: "deleteButton", onClick: e.deleteButton, children: "Complete" }),
                        Object(v.jsx)("button",
                            { id: "closeButton", onClick: e.closeButton, children: "Close" }),
                        Object(v.jsx)("button", { id: "detailsButton", onClick: function () { window.location.href = "http://127.0.0.1:8000/dashboard/todo/" + e.to_do_id }, children: "detials" })]
                }), Object(v.jsx)("div", { id: "modalBackDrop" })]
            })
        },
            g = n(20), y = n.n(g).a.create({ baseURL: "http://" + BASE_URL }); y.defaults.xsrfCookieName = "csrftoken", y.defaults.xsrfHeaderName = "X-CSRFToken"; var x = y, k = function () { return Object(v.jsx)("div", { className: "loader", children: "Loading..." }) }; var D = function (e) {
            Object(s.a)(n, e); var t = Object(l.a)(n); function n() {
                var e; Object(r.a)(this, n); for (var a = arguments.length, c = new Array(a), o = 0; o < a; o++)c[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(c))).state = { nav: 0, clicked: null, events: localStorage.getItem("events") ? JSON.parse(localStorage.getItem("events")) : [], days: [], dateDisplay: "", oldNav: 0, oldEvents: localStorage.getItem("events") ? JSON.parse(localStorage.getItem("events")) : [], loading: !0 }, e.eventForDate = function (t) { return e.state.events.find((function (e) { return e.date === t })) }, e.DaySquareOnClick = function (t) { "padding" !== t.value && e.setState({ clicked: t.date }) }, e.loadDate = function () { var t = new Date; 0 !== e.state.nav && t.setMonth(t.getMonth() + e.state.nav), e.setState({ dateDisplay: "".concat(t.toLocaleDateString("en-uk", { month: "long" }), " ").concat(t.getFullYear()) }) }, e.componentDidMount = function () { e.loadDate(), e.loadEvents() },
                    e.loadEvents = function () { e.setState({ loading: !0 }); var t = new FormData; t.append("title", "lala"), x.get("calendar/calendar_test", t).then((function (t) { console.log(t.data.todos.map((function (t) { var n = null != t.date_complete; return e.createNewEventWithTime(t.title, h.dateString(t.date_due), n, h.compareTime(t.date_complete, t.date_due), h.compareTime(t.date_due, Date.now()), t.id), h.dateString(t.date_complete), t.id }))), e.setState({ loading: !1 }) })).catch((function (e) { console.log(e) })) }, e.createNewEvent = function (t) { console.log(e.state.clicked), e.createNewEventWithTime(t, e.state.clicked, null, null, null) }, e.createNewEventWithTime = function (t, n, a, c, o, i) { e.setState({ events: [].concat(Object(d.a)(e.state.events), [{ title: t, date: n, completed: a, completedOnTime: c, overdue: o, to_do_id: i }]), clicked: null }) }, e.onNextButton = function () { e.setState({ nav: e.state.nav + 1 }), console.log("a") }, e.onBackButton = function () { e.setState({ nav: e.state.nav - 1 }) }, e.componentDidUpdate = function () { e.state.nav !== e.state.oldNav && (e.loadDate(), e.setState({ oldNav: e.state.nav })), e.state.events !== e.state.oldEvents && (e.loadDate(), e.setState({ oldEvents: e.state.events })) }, e.render = function () {
                    var t = Object(v.jsx)(k, {}); return e.state.loading || (t = Object(v.jsx)(p, { nav: e.state.nav, DaySquareOnClick: e.DaySquareOnClick, eventForDate: e.eventForDate, createNewEvent: e.createNewEventWithTime })), Object(v.jsxs)(v.Fragment, {
                        children: [Object(v.jsxs)("div", { id: "container", children: [Object(v.jsx)(b, { dateString: e.state.dateDisplay, onNext: e.onNextButton, onBack: e.onBackButton }), Object(v.jsxs)("div", { id: "weekdays", children: [Object(v.jsx)("div", { children: "Sunday" }), Object(v.jsx)("div", { children: "Monday" }), Object(v.jsx)("div", { children: "Tuesday" }), Object(v.jsx)("div", { children: "Wednesday" }), Object(v.jsx)("div", { children: "Thursday" }), Object(v.jsx)("div", { children: "Friday" }), Object(v.jsx)("div", { children: "Saturday" })] }), t] }), e.state.clicked && !e.eventForDate(e.state.clicked) ? Object(v.jsx)(O, { onSave: function (t) { return e.createNewEvent(t) }, closeModal: function () { e.setState({ clicked: null }) } }) : e.state.clicked && e.eventForDate(e.state.clicked) ? Object(v.jsx)(f, {
                            eventText: e.eventForDate(e.state.clicked).title, to_do_id: e.eventForDate(e.state.clicked).to_do_id, deleteButton: function () {
                                var t = e.eventForDate(e.state.clicked).to_do_id,
                                    n = new FormData; n.append("title", "complete"),
                                        n.append("csrfmiddlewaretoken", CSRF_key),
                                       
                                        x.post("dashboard/todo/" + t + "/complete", n).then((function (t) {
                                            console.log("completed"),
                                                e.loadEvents(),
                                                e.setState({ clicked: null }),
                                                window.location.reload(false)
                                        })).catch((function (t) { console.log(t), e.setState({ clicked: null }) }))
                            }, closeButton: function () { e.setState({ clicked: null }) }
                        }) : null]
                    })
                }, e
            } return n
        }(p), S = function (e) { e && e instanceof Function && n.e(3).then(n.bind(null, 48)).then((function (t) { var n = t.getCLS, a = t.getFID, c = t.getFCP, o = t.getLCP, i = t.getTTFB; n(e), a(e), c(e), o(e), i(e) })) };
        i.a.render(Object(v.jsx)(c.a.StrictMode, { children: Object(v.jsx)(D, {}) }),
            document.getElementById("root")), S()
    }
},
[[47, 1, 2]]]);
//# sourceMappingURL=main.0520153f.chunk.js.map